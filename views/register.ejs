<!DOCTYPE html>
<html lang="en">
<%- include('./partials/head', {title: "Register" }) %>

<body class="body-register">
  <main>
    <div class="box-register">

      <a href="/"><img class="logo-register" src="../images/original.jpeg" alt="LogoSportShoes"></a>
      <h1 class="text-register">Register</h1>

      <form class="form-register" action="/user/register" method="POST" enctype="multipart/form-data">

        <p>
          <label for="fullName">Enter your name:</label>
        </p>
        <input type="text" placeholder="<%= locals.errors && errors.fullName ? errors.fullName.msg : null %>" name="fullName" class='form-control <%= locals.errors && errors.fullName ? 'is-invalid' : null  %>' value='<%= locals.oldData ? oldData.fullName : null  %>'>
        </p>

        <p>
          <label for="userName">Enter your Username:</label>
        </p>
        <p>
          <input type="text" placeholder="<%= locals.errors && errors.userName ? errors.userName.msg : null %>" name="userName" value='<%= locals.oldData ? oldData.userName : null  %>' class='form-control <%= locals.errors && errors.userName ? 'is-invalid' : null  %> '>
        </p>

        <p>
          <label for='country'>Select your Country</label>
        </p>
        <p>
          <select name='country' class='form-select <%= locals.errors && errors.country ? 'is-invalid' : null  %> '>
            <option value=''>Choose a country</option>
            <% let countries = ['Argentina', 'EEUU', 'Chile', 'PerÃº', 'Bolivia', 'Colombia', 'Paraguay'] %>
            <% for( const oneCountry of countries ) { %>
            <option value='<%= oneCountry %>' <%= locals.oldData && (oneCountry == oldData.country) ? 'selected' : null %>> <%= oneCountry  %> </option>
            <% } %>
          </select>
          <% if (locals.errors && errors.country) { %>
          <h7 class='text-danger'>
            <%= errors.country.msg  %>
          </h7>
          <% } %>
        </p>

        <p>
          <label for="address">Enter your address:</label>
        </p>
        <p>
          <input type="text" placeholder="<%= locals.errors && errors.address ? errors.address.msg : null %>" name="address" value='<%= locals.oldData ? oldData.address : null %>' class='form-control <%= locals.errors && errors.address ? 'is-invalid' : null  %> '>
        </p>
        <p>
          <label for="email"> Enter your email </label>
        </p>
        <p>
          <input type="email" placeholder="<%= locals.errors && errors.email ? errors.email.msg : null %>" name="email" value='<%= locals.oldData ? oldData.email : null  %>' class='form-control <%= locals.errors && errors.email ? 'is-invalid' : null  %> '>
          <% if (locals.errors && errors.email) { %>
          <div class="text-danger">
            <%= errors.email.msg %>
          </div>
          <% } %>
        </p>
        <p>
          <label for="avatar"> Choose an Avatar </label>
        </p>
        <p>
          <input class='form-control <%= locals.errors && errors.avatar ? 'is-invalid' : null %>' type="file" name="avatar">
          <% if (locals.errors && errors.avatar) { %>
          <h7 class='text-danger'>
            <%= errors.avatar.msg  %>
          </h7>
          <% } %>
        </p>
        <p>
        <p>
          <label for="password">Enter a password:</label>
        </p>
        <p>
          <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" placeholder="<%= locals.errors && errors.password ? errors.password.msg : null %>" name="password" value='<%= locals.oldData ? oldData.password : null  %>' class='form-control <%= locals.errors && errors.password ? 'is-invalid' : null  %> '>
        </p>
        <!-- <p>
          <label for="password"> Re-enter password:</label>
        </p>
        <p>
          <input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" placeholder="<%= locals.errors && errors.password ? errors.password.msg : null %>" name="confirmPassword" value='<%= locals.oldData ? oldData.password : null  %>' class='form-control <%= locals.errors && errors.password ? 'is-invalid' : null  %> '>
        </p> -->
        <br>
        <input type="submit" class="submit-login" value="Register">
      
      </form>
    </div>
  </main>

</body>

</html>